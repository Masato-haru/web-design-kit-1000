<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        pre { background: #f8f9fa; padding: 10px; border-radius: 5px; overflow-x: auto; }
        .loading { text-align: center; color: #666; }
    </style>
</head>
<body>
    <h1>Webåˆ¶ä½œKIT ãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆ</h1>
    <div id="status" class="status info">ãƒ†ã‚¹ãƒˆé–‹å§‹ä¸­...</div>
    <div id="details"></div>
    
    <script>
        const statusDiv = document.getElementById('status');
        const detailsDiv = document.getElementById('details');
        
        function log(message, type = 'info') {
            console.log(message);
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            detailsDiv.appendChild(div);
        }
        
        function showData(data) {
            const pre = document.createElement('pre');
            pre.textContent = JSON.stringify(data, null, 2);
            detailsDiv.appendChild(pre);
        }
        
        async function runTest() {
            try {
                statusDiv.textContent = 'ã‚¹ãƒ†ãƒƒãƒ—1: JSONãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ';
                
                // JSONãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ
                const response = await fetch('web_design_kit_1000.json');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                log(`âœ… JSONèª­ã¿è¾¼ã¿æˆåŠŸ: ${data.kit_data.length}ä»¶ã®ãƒ‡ãƒ¼ã‚¿`, 'success');
                
                // æœ€åˆã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
                log('æœ€åˆã®KITãƒ‡ãƒ¼ã‚¿:', 'info');
                showData(data.kit_data[0]);
                
                statusDiv.textContent = 'ã‚¹ãƒ†ãƒƒãƒ—2: DOMè¦ç´ ãƒã‚§ãƒƒã‚¯';
                
                // åŸºæœ¬çš„ãªDOMæ“ä½œãƒ†ã‚¹ãƒˆ
                const testDiv = document.createElement('div');
                testDiv.innerHTML = '<p>DOMæ“ä½œãƒ†ã‚¹ãƒˆæˆåŠŸ</p>';
                
                log('âœ… DOMæ“ä½œãƒ†ã‚¹ãƒˆæˆåŠŸ', 'success');
                
                statusDiv.textContent = 'ã‚¹ãƒ†ãƒƒãƒ—3: ç°¡å˜ãªã‚«ãƒ¼ãƒ‰è¡¨ç¤ºãƒ†ã‚¹ãƒˆ';
                
                // ç°¡å˜ãªã‚«ãƒ¼ãƒ‰è¡¨ç¤º
                const cardContainer = document.createElement('div');
                cardContainer.innerHTML = `
                    <div style="border: 1px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 5px;">
                        <h3>KIT #${data.kit_data[0].id} - ${data.kit_data[0].industry}</h3>
                        <div style="display: flex; height: 30px; margin: 10px 0;">
                            ${data.kit_data[0].color_palette.map(color => 
                                `<div style="flex: 1; background-color: ${color}; margin-right: 2px;" title="${color}"></div>`
                            ).join('')}
                        </div>
                        <p>è¦‹å‡ºã—: ${data.kit_data[0].fonts.heading}</p>
                        <p>æœ¬æ–‡: ${data.kit_data[0].fonts.body}</p>
                    </div>
                `;
                detailsDiv.appendChild(cardContainer);
                
                log('âœ… ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºãƒ†ã‚¹ãƒˆæˆåŠŸ', 'success');
                
                statusDiv.textContent = 'ğŸ‰ å…¨ãƒ†ã‚¹ãƒˆå®Œäº†ï¼';
                statusDiv.className = 'status success';
                
            } catch (error) {
                log(`âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                statusDiv.textContent = 'âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—';
                statusDiv.className = 'status error';
                
                // ã‚¨ãƒ©ãƒ¼ã®è©³ç´°åˆ†æ
                if (error.message.includes('Failed to fetch')) {
                    log('åŸå› : HTTPã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ãªã„ã‹ã€CORSã‚¨ãƒ©ãƒ¼ã§ã™', 'error');
                    log('è§£æ±ºæ–¹æ³•: "python3 -m http.server 8080" ã‚’å®Ÿè¡Œã—ã¦ã‹ã‚‰http://localhost:8080ã§ã‚¢ã‚¯ã‚»ã‚¹', 'info');
                } else if (error.message.includes('404')) {
                    log('åŸå› : JSONãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“', 'error');
                } else {
                    log('åŸå› : ä¸æ˜ãªã‚¨ãƒ©ãƒ¼', 'error');
                }
            }
        }
        
        // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        runTest();
    </script>
</body>
</html>